(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{585:function(t,s,e){"use strict";e.r(s);var a=e(31),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"koa2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#koa2"}},[t._v("#")]),t._v(" koa2")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Koa")]),t._v("是一个新的 "),e("code",[t._v("web")]),t._v("框架，基于"),e("code",[t._v("node")]),t._v("实现的"),e("code",[t._v("web")]),t._v("框架，将内部的核心模块进行封装，"),e("code",[t._v("koa2")]),t._v("是第二个版本。")]),t._v(" "),e("li",[e("code",[t._v("koa2")]),t._v("是利用"),e("code",[t._v("es7")]),t._v("的"),e("code",[t._v("async/await")]),t._v("特性，减少回调地狱的麻烦。")]),t._v(" "),e("li",[e("code",[t._v("koa")]),t._v("的大部分功能依赖于中间件实现，本身不具备。")]),t._v(" "),e("li",[e("code",[t._v("koa2")]),t._v("包含四个模块\n"),e("ul",[e("li",[e("code",[t._v("application")]),t._v("应用模块。")]),t._v(" "),e("li",[e("code",[t._v("context")]),t._v("上下文模块。")]),t._v(" "),e("li",[e("code",[t._v("request")]),t._v("请求模块。")]),t._v(" "),e("li",[e("code",[t._v("reponse")]),t._v(" 响应模块。")])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://koa.bootcss.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),e("OutboundLink")],1),t._v(";")])]),t._v(" "),e("h3",{attrs:{id:"application应用模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#application应用模块"}},[t._v("#")]),t._v(" "),e("code",[t._v("application")]),t._v("应用模块")]),t._v(" "),e("ul",[e("li",[t._v("一个"),e("code",[t._v("Koa Application")]),t._v("（简称 "),e("code",[t._v("app")]),t._v("）由一系列 "),e("code",[t._v("generator")]),t._v(" 中间件组成。按照编码顺序在栈内依次执行,这些中间件有处理路由的，有处理参数的，有处理缓存的等。")]),t._v(" "),e("li",[e("code",[t._v("application")]),t._v("是"),e("code",[t._v("koa")]),t._v("的实例化对象，简写为"),e("code",[t._v("app")]),t._v("，这个对象下包含一系列的方法和属性。\n"),e("ul",[e("li",[e("code",[t._v("app.name")]),t._v("应用名称。")]),t._v(" "),e("li",[e("code",[t._v("app.env")]),t._v(" 默认是 "),e("code",[t._v("NODE_ENV")]),t._v(" 或 "),e("code",[t._v('"development"')]),t._v("运行环境。")]),t._v(" "),e("li",[e("code",[t._v("app.keys")]),t._v(" 签名的 "),e("code",[t._v("cookie")]),t._v(" 密钥数组。")]),t._v(" "),e("li",[e("code",[t._v("app.proxy")]),t._v(" 决定了哪些 "),e("code",[t._v("proxy header")]),t._v(" 参数会被加到信任列表中。")]),t._v(" "),e("li",[e("code",[t._v("app.listen()")]),t._v("用于启动服务，监听端口。"),e("code",[t._v("app.listen")]),t._v(" 实际是 "),e("code",[t._v("http.createServer")]),t._v(" 的简单封装。")]),t._v(" "),e("li",[e("code",[t._v("app.use()")]),t._v("加载中间件。")]),t._v(" "),e("li",[e("code",[t._v('app.on("error",(err,ctx)=>{})')]),t._v("错误监听，可以在错误处理函数监听日志。")])])])]),t._v(" "),e("h3",{attrs:{id:"context上下文模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#context上下文模块"}},[t._v("#")]),t._v(" "),e("code",[t._v("context")]),t._v("上下文模块")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Koa")]),t._v(" 的上下文对象"),e("code",[t._v("context")]),t._v("(简写"),e("code",[t._v("ctx")]),t._v(")封装了"),e("code",[t._v("request")]),t._v("与"),e("code",[t._v("response")]),t._v("对象至一个对象中，并提供了一些帮助开发编写业务逻辑的方法。")]),t._v(" "),e("li",[e("code",[t._v("ctx")]),t._v("对象属性和方法\n"),e("ul",[e("li",[e("code",[t._v("request")]),t._v(" koa的请求对象。")]),t._v(" "),e("li",[e("code",[t._v("response")]),t._v(" koa的响应对象。")]),t._v(" "),e("li",[e("code",[t._v("req")]),t._v(" node.js的请求对象。")]),t._v(" "),e("li",[e("code",[t._v("res")]),t._v(" node.js的响应对象。")]),t._v(" "),e("li",[e("code",[t._v("app``koa")]),t._v("实例对象")]),t._v(" "),e("li",[e("code",[t._v("state")]),t._v("推荐的命名空间，用于通过中间件传递信息和你的前端视图。")]),t._v(" "),e("li",[e("code",[t._v("cookies.get")]),t._v("通过"),e("code",[t._v("options")]),t._v(" 获取 "),e("code",[t._v("cookie name")]),t._v("。")]),t._v(" "),e("li",[e("code",[t._v("cookies.set")]),t._v("通过"),e("code",[t._v("options")]),t._v(" 设置 "),e("code",[t._v("cookie name")]),t._v("。")]),t._v(" "),e("li",[e("code",[t._v("throw")]),t._v("用来抛出一个包含"),e("code",[t._v(".status")]),t._v(" 属性错误的帮助方法。")]),t._v(" "),e("li",[e("code",[t._v("respond")]),t._v("为了绕过 "),e("code",[t._v("Koa")]),t._v("的内置 "),e("code",[t._v("response")]),t._v("处理，你可以显式设置 "),e("code",[t._v("ctx.respond = false")]),t._v("。 如果您想要写入原始的 "),e("code",[t._v("res")]),t._v("对象而不是让"),e("code",[t._v("Koa")]),t._v("处理你的"),e("code",[t._v("response")]),t._v("，请使用此参数。")])])]),t._v(" "),e("li",[e("code",[t._v("ctx")]),t._v("会直接包含"),e("code",[t._v("request")]),t._v("与"),e("code",[t._v("response")]),t._v("属性和方法，也就是"),e("code",[t._v("ctx.request.header")]),t._v("和"),e("code",[t._v("ctx.header")]),t._v("功能是一样的。\n"),e("ul",[e("li",[e("code",[t._v("request")]),t._v("可以直接通过"),e("code",[t._v("ctx")]),t._v("访问的。\n"),e("ul",[e("li",[e("code",[t._v("ctx.header")])]),t._v(" "),e("li",[e("code",[t._v("ctx.headers")])]),t._v(" "),e("li",[e("code",[t._v("ctx.method")])]),t._v(" "),e("li",[e("code",[t._v("ctx.method=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.url")])]),t._v(" "),e("li",[e("code",[t._v("ctx.url=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.originalUr")]),t._v("l")]),t._v(" "),e("li",[e("code",[t._v("ctx.origin")])]),t._v(" "),e("li",[e("code",[t._v("ctx.href")])]),t._v(" "),e("li",[e("code",[t._v("ctx.path")])]),t._v(" "),e("li",[e("code",[t._v("ctx.path=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.query")])]),t._v(" "),e("li",[e("code",[t._v("ctx.query=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.querystrin")]),t._v("g")]),t._v(" "),e("li",[e("code",[t._v("ctx.querystrin")]),t._v("g=")]),t._v(" "),e("li",[e("code",[t._v("ctx.host")])]),t._v(" "),e("li",[e("code",[t._v("ctx.hostname")])]),t._v(" "),e("li",[e("code",[t._v("ctx.fresh")])]),t._v(" "),e("li",[e("code",[t._v("ctx.stale")])]),t._v(" "),e("li",[e("code",[t._v("ctx.socket")])]),t._v(" "),e("li",[e("code",[t._v("ctx.protocol")])]),t._v(" "),e("li",[e("code",[t._v("ctx.secure")])]),t._v(" "),e("li",[e("code",[t._v("ctx.ip")])]),t._v(" "),e("li",[e("code",[t._v("ctx.ips")])]),t._v(" "),e("li",[e("code",[t._v("ctx.subdomains")])]),t._v(" "),e("li",[e("code",[t._v("ctx.is()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.accepts()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.acceptsEncodings()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.acceptsCharsets()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.acceptsLanguages()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.get()")])])])]),t._v(" "),e("li",[e("code",[t._v("response")]),t._v("可以直接通过"),e("code",[t._v("ctx")]),t._v("访问的。\n"),e("ul",[e("li",[e("code",[t._v("ctx.body")])]),t._v(" "),e("li",[e("code",[t._v("ctx.body=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.status")])]),t._v(" "),e("li",[e("code",[t._v("ctx.status=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.message")])]),t._v(" "),e("li",[e("code",[t._v("ctx.message=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.length=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.length")])]),t._v(" "),e("li",[e("code",[t._v("ctx.type=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.type")])]),t._v(" "),e("li",[e("code",[t._v("ctx.headerSent")])]),t._v(" "),e("li",[e("code",[t._v("ctx.redirect()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.attachment()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.set()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.append()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.remove()")])]),t._v(" "),e("li",[e("code",[t._v("ctx.lastModified=")])]),t._v(" "),e("li",[e("code",[t._v("ctx.etag=")])])])])])])]),t._v(" "),e("h3",{attrs:{id:"request请求模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request请求模块"}},[t._v("#")]),t._v(" "),e("code",[t._v("request")]),t._v("请求模块")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("request")]),t._v(" 对象是在"),e("code",[t._v("node")]),t._v("的 原生请求对象之上的抽象，提供了诸多对"),e("code",[t._v("HTTP")]),t._v(" 服务器开发有用的功能。\n"),e("ul",[e("li",[e("code",[t._v("request.header=")]),t._v("设置请求头对象。")]),t._v(" "),e("li",[e("code",[t._v("request.headers")]),t._v("请求头对象")]),t._v(" "),e("li",[e("code",[t._v("request.method")]),t._v("请求方法")]),t._v(" "),e("li",[e("code",[t._v("request.url")]),t._v("设置请求 "),e("code",[t._v("URL")]),t._v(", 对"),e("code",[t._v("url")]),t._v("重写有用。")]),t._v(" "),e("li",[e("code",[t._v("request.originalUrl")]),t._v("获取请求原始"),e("code",[t._v("URL")]),t._v("。")]),t._v(" "),e("li",[e("code",[t._v("request.origin")]),t._v("获取"),e("code",[t._v("URL")]),t._v("的来源，包括 "),e("code",[t._v("protocol")]),t._v(" 和 "),e("code",[t._v("host")]),t._v("。")]),t._v(" "),e("li",[e("code",[t._v("request.href")]),t._v("获取完整的请求"),e("code",[t._v("URL")])]),t._v(" "),e("li",[e("code",[t._v("request.path")]),t._v("获取请求路径名。")]),t._v(" "),e("li",[e("code",[t._v("request.path=")]),t._v("设置请求路径名")]),t._v(" "),e("li",[e("code",[t._v("request.querystring")]),t._v("根据 ? 获取原始查询字符串.")]),t._v(" "),e("li",[e("code",[t._v("request.host")]),t._v("获取主机")]),t._v(" "),e("li",[e("code",[t._v("request.hostname")]),t._v("获取主机名")]),t._v(" "),e("li",[e("code",[t._v("request.charset")]),t._v("获取请求字符集")]),t._v(" "),e("li",[e("code",[t._v("request.query")]),t._v("获取解析的查询字符串")]),t._v(" "),e("li",[e("code",[t._v("request.protocol")]),t._v("返回请求协议,"),e("code",[t._v("https")]),t._v(" 或 "),e("code",[t._v("http")])]),t._v(" "),e("li",[e("code",[t._v("request.ip")]),t._v("请求远程地址")])])])]),t._v(" "),e("h3",{attrs:{id:"response响应模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#response响应模块"}},[t._v("#")]),t._v(" "),e("code",[t._v("response")]),t._v("响应模块")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("response")]),t._v(" 对象是在 "),e("code",[t._v("node")]),t._v(" 的原生响应对象之上的抽象，提供了诸多对"),e("code",[t._v("HTTP")]),t._v("服务器开发有用的功能。")]),t._v(" "),e("li",[e("code",[t._v("response.header")]),t._v("响应头对象。")]),t._v(" "),e("li",[e("code",[t._v("response.status")]),t._v("获取响应状态")]),t._v(" "),e("li",[e("code",[t._v("response.body")]),t._v("获取响应主体")]),t._v(" "),e("li",[e("code",[t._v("response.set")]),t._v("设置响应头")]),t._v(" "),e("li",[e("code",[t._v("response.get")]),t._v("获取响应头字段值")]),t._v(" "),e("li",[e("code",[t._v("response.append")]),t._v("添加响应头")]),t._v(" "),e("li",[e("code",[t._v("response.redirect")]),t._v("重定向")])]),t._v(" "),e("h3",{attrs:{id:"下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[t._v("#")]),t._v(" 下载")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("npm i koa "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h3",{attrs:{id:"启动一个简单服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动一个简单服务"}},[t._v("#")]),t._v(" 启动一个简单服务")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Koa"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"koa2"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Koa")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("h3",{attrs:{id:"中间件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#中间件"}},[t._v("#")]),t._v(" 中间件")]),t._v(" "),e("ul",[e("li",[t._v("中间件官方一点的解释是指连贯整个"),e("code",[t._v("Koa")]),t._v("应用程序，并共享资源（上下文）的独立插件。")]),t._v(" "),e("li",[t._v("共享通过"),e("code",[t._v("content")]),t._v("上下文对象。")]),t._v(" "),e("li",[t._v("连接通过"),e("code",[t._v("next()")]),t._v("函数,中间件默认只执行第一个，需要连续执行，必须使用"),e("code",[t._v("async await")]),t._v("。")]),t._v(" "),e("li",[t._v("中间件不能够单独使用，需要依附平台，只负责处理，不负责输入和输入。类似于流水线，从输入开始处理的每个环节都可以看做中间件。")]),t._v(" "),e("li",[e("code",[t._v("koa")]),t._v("的中间件是通过"),e("code",[t._v("app.use")]),t._v("插入处理的流程。")]),t._v(" "),e("li",[e("code",[t._v("koa")]),t._v("的中间件处理为先进后出模型，也就是洋葱模型或回形针模型。")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Koa"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"koa2"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Koa")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fun1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fun2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fun3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fun1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fun2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fun3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3.3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2.2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.1")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);