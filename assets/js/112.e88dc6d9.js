(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{649:function(s,t,n){"use strict";n.r(t);var a=n(31),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"h5-ios端输入框自动获取焦点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#h5-ios端输入框自动获取焦点"}},[s._v("#")]),s._v(" h5-ios端输入框自动获取焦点")]),s._v(" "),n("ul",[n("li",[s._v("最近开发的需求遇到了这个问题，从首页跳转到搜索页，一进入搜索页，输入框就自定聚焦，都知道"),n("code",[s._v("input")]),s._v("有一个"),n("code",[s._v("autofocus")]),s._v("属性，这个设置在"),n("code",[s._v("pc")]),s._v("设置是生效的，移动端不管用。")]),s._v(" "),n("li",[n("code",[s._v("android")]),s._v("端可以设置"),n("code",[s._v("input")]),s._v("的"),n("code",[s._v("focus()")]),s._v("方法获取焦点，在页面"),n("code",[s._v("Dom")]),s._v("渲染完成之后，安卓生效"),n("code",[s._v("ios")]),s._v("端使用相同的方法，测试是不生效的，百度了查了一下，没有解决方案。")]),s._v(" "),n("li",[n("code",[s._v("ios")]),s._v("产生这个问题原因是禁用了"),n("code",[s._v("autofocus")]),s._v("，必须有一次交互才能获取焦点，绞尽脑汁也没想到比较好的处理方法。产品经理为了达到理想的交互效果，从金山找到一个案例参考，确实能实现，也算是一个取巧的方法。")]),s._v(" "),n("li",[s._v("实现的方式是点击跳转的标签之前使用的是"),n("code",[s._v("div")]),s._v("现在换成"),n("code",[s._v("input")]),s._v("，点击"),n("code",[s._v("input")]),s._v("就会聚焦跳到搜索页，搜索页的输入框也会聚焦，看着实现比较简单，测试的时候也遇到一些坑，如果页面发生了滚动，跳转过去是不会聚焦的，这种解决方式，在跳转之前先滚动到页面顶部，延迟50毫秒再跳转即可获取焦点，不要问为什么是50毫秒。")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toSearch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scroll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$router"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/search"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);