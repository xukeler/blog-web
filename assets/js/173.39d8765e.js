(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{705:function(t,e,n){"use strict";n.r(e);var s=n(31),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h3",{attrs:{id:"vue打包之后放到服务器刷新404问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue打包之后放到服务器刷新404问题"}},[t._v("#")]),t._v(" vue打包之后放到服务器刷新404问题")]),t._v(" "),n("ul",[n("li",[t._v("最近做了一个demo想通过域名访问，于是就在百度云斥巨资买了一个虚拟机，环境语言是Nginx + PHP。\n做好的demo "),n("code",[t._v("yarn build")]),t._v("打包之后通过filezilla上传到服务器，结果路由点击跳转没有问题，但刷新之后就会报404错误。网上找了一下攻略，总结一下，方便下次遇见同样的问题解决。")])]),t._v(" "),n("h3",{attrs:{id:"development"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#development"}},[t._v("#")]),t._v(" Development")]),t._v(" "),n("p",[t._v("服务器的根目录下新建一个"),n("code",[t._v("bcloud_nginx_user.conf")]),t._v("文件，在里面设置重定向")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v(" location / {\n\t\ttry_files $uri $uri/ @router;\n\t\tindex index.html;\n\t}\n\tlocation @router {\n\t\trewrite ^.*$ /index.html last;\n    }\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("ul",[n("li",[t._v("然后刷新就不会报404错误了。")])])])}),[],!1,null,null,null);e.default=a.exports}}]);