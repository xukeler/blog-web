(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{570:function(s,a,e){"use strict";e.r(a);var t=e(31),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"mac打包代码签名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mac打包代码签名"}},[s._v("#")]),s._v(" mac打包代码签名")]),s._v(" "),e("ul",[e("li",[s._v("在"),e("code",[s._v("mac")]),s._v("端打包和"),e("code",[s._v("windows")]),s._v("端打包有些不一样，虽然打包命令一样，但是"),e("code",[s._v("mac")]),s._v("需要配置一个代码签名，在"),e("code",[s._v("mac")]),s._v("端实现自动更新的功能也是需要代码签名，总结就是代码签名很重要。")])]),s._v(" "),e("h3",{attrs:{id:"申请证书"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#申请证书"}},[s._v("#")]),s._v(" 申请证书")]),s._v(" "),e("ul",[e("li",[s._v("首先要有一个"),e("code",[s._v("apple")]),s._v("的开发者账号，注意这个账号是需要花钱的，一年几百块钱，自己开发就没必要搞这个，公司里面开发可以弄个账号。登录开发者"),e("a",{attrs:{href:"https://developer.apple.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("网站"),e("OutboundLink")],1),s._v("。")]),s._v(" "),e("li",[s._v("进入网站选择"),e("code",[s._v("Account")]),s._v("账户。")]),s._v(" "),e("li",[s._v("选择"),e("code",[s._v("Certificates,IDs&Profiles")]),s._v("，进入选择"),e("code",[s._v("Certificates")]),s._v("添加一个"),e("code",[s._v("Developer ID Application")]),s._v("证书，然后下载到本地。")]),s._v(" "),e("li",[s._v("下载到本地的证书通过"),e("code",[s._v("mac")]),s._v("的钥匙串打开，在钥匙串中，我的证书能看到安装好的证书，选中证书右键导出证书为"),e("code",[s._v(".p12")]),s._v("格式，存储到本地。")]),s._v(" "),e("li",[s._v("进入"),e("code",[s._v("Identifiers")]),s._v("创建一个新的，选中"),e("code",[s._v("App IDs")]),s._v(",填写应用描述和"),e("code",[s._v("BundleId")]),s._v("，注意这个"),e("code",[s._v("BundleId")]),s._v("要同"),e("code",[s._v("package.json")]),s._v("中配置的"),e("code",[s._v("appId")]),s._v("要匹配。")])]),s._v(" "),e("h3",{attrs:{id:"配置环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置环境变量"}},[s._v("#")]),s._v(" 配置环境变量")]),s._v(" "),e("ul",[e("li",[s._v("在终端也就是"),e("code",[s._v("cmd")]),s._v("命令行工具，运行命令。")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("sudo vim "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bash_profile\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[e("code",[s._v("CSC_LINK")]),s._v(":刚才导出的"),e("code",[s._v(".p12")]),s._v("文件的绝对路径。")]),s._v(" "),e("li",[e("code",[s._v("CSC_KEY_PASSWORD")]),s._v(":导出"),e("code",[s._v(".p12")]),s._v("文件时设置的密码。")]),s._v(" "),e("li",[s._v("输入完成后 再输入"),e("code",[s._v(":wq!")]),s._v("强制保存。")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSC_LINK")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Users"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Desktop"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("developerID_application"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("p12\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CSC_KEY_PASSWORD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("重载环境变量。")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[s._v("source "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bash_profile\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"package-json配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#package-json配置"}},[s._v("#")]),s._v(" package.json配置")]),s._v(" "),e("ul",[e("li",[s._v("在"),e("code",[s._v("package.json")]),s._v("中有一个"),e("code",[s._v("appId")]),s._v("选项，这个配置之前设置好的"),e("code",[s._v("BundleId")]),s._v("。")]),s._v(" "),e("li",[s._v("然后打包就正常了。")])]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"appId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.xxx.yyy"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);