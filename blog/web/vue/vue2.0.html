<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue2.x | xukeler的博客</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="./favicon.ico">
    <script src="https://readmore.openwrite.cn/js/readmore.js" type="text/javascript"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
    <meta name="description" content="这是一个关于技术分享的博客">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;">
    <link rel="preload" href="./assets/css/0.styles.e339a6d0.css" as="style"><link rel="preload" href="./assets/js/app.90975868.js" as="script"><link rel="preload" href="./assets/js/3.0979b334.js" as="script"><link rel="preload" href="./assets/js/165.c4a3bfd6.js" as="script"><link rel="preload" href="./assets/js/18.1f12653d.js" as="script"><link rel="prefetch" href="./assets/js/10.5d656b1f.js"><link rel="prefetch" href="./assets/js/100.47fc6062.js"><link rel="prefetch" href="./assets/js/101.9df6a6c5.js"><link rel="prefetch" href="./assets/js/102.02f47b2d.js"><link rel="prefetch" href="./assets/js/103.700e8b89.js"><link rel="prefetch" href="./assets/js/104.3f7c17d8.js"><link rel="prefetch" href="./assets/js/105.d6229b5e.js"><link rel="prefetch" href="./assets/js/106.c7228e4c.js"><link rel="prefetch" href="./assets/js/107.8be3bbd1.js"><link rel="prefetch" href="./assets/js/108.19d71441.js"><link rel="prefetch" href="./assets/js/109.0e796352.js"><link rel="prefetch" href="./assets/js/11.91ce1475.js"><link rel="prefetch" href="./assets/js/110.e674647a.js"><link rel="prefetch" href="./assets/js/111.cef1e5a3.js"><link rel="prefetch" href="./assets/js/112.e88dc6d9.js"><link rel="prefetch" href="./assets/js/113.93a7dc55.js"><link rel="prefetch" href="./assets/js/114.66bd62ca.js"><link rel="prefetch" href="./assets/js/115.fb628228.js"><link rel="prefetch" href="./assets/js/116.72dcb7ab.js"><link rel="prefetch" href="./assets/js/117.ac3b8dd9.js"><link rel="prefetch" href="./assets/js/118.8ac0a1c4.js"><link rel="prefetch" href="./assets/js/119.57d371ac.js"><link rel="prefetch" href="./assets/js/12.97dbeb4d.js"><link rel="prefetch" href="./assets/js/120.43cec3cd.js"><link rel="prefetch" href="./assets/js/121.db7d6b8a.js"><link rel="prefetch" href="./assets/js/122.ee5158ab.js"><link rel="prefetch" href="./assets/js/123.bdd32de9.js"><link rel="prefetch" href="./assets/js/124.1335c362.js"><link rel="prefetch" href="./assets/js/125.ae69bccc.js"><link rel="prefetch" href="./assets/js/126.581e3d8c.js"><link rel="prefetch" href="./assets/js/127.02f7015c.js"><link rel="prefetch" href="./assets/js/128.534aecb0.js"><link rel="prefetch" href="./assets/js/129.7b70105d.js"><link rel="prefetch" href="./assets/js/13.d0236eca.js"><link rel="prefetch" href="./assets/js/130.5be22126.js"><link rel="prefetch" href="./assets/js/131.70b79cc1.js"><link rel="prefetch" href="./assets/js/132.4a2bb581.js"><link rel="prefetch" href="./assets/js/133.026192bb.js"><link rel="prefetch" href="./assets/js/134.aab38f7c.js"><link rel="prefetch" href="./assets/js/135.c4216dcf.js"><link rel="prefetch" href="./assets/js/136.8d719167.js"><link rel="prefetch" href="./assets/js/137.e9023c48.js"><link rel="prefetch" href="./assets/js/138.0c738d77.js"><link rel="prefetch" href="./assets/js/139.375cf9c6.js"><link rel="prefetch" href="./assets/js/14.5adfc4fe.js"><link rel="prefetch" href="./assets/js/140.461a4981.js"><link rel="prefetch" href="./assets/js/141.5e1f7138.js"><link rel="prefetch" href="./assets/js/142.b337b654.js"><link rel="prefetch" href="./assets/js/143.6ae05237.js"><link rel="prefetch" href="./assets/js/144.982c9e50.js"><link rel="prefetch" href="./assets/js/145.9020bb32.js"><link rel="prefetch" href="./assets/js/146.56963792.js"><link rel="prefetch" href="./assets/js/147.2de0dbca.js"><link rel="prefetch" href="./assets/js/148.226d6ec3.js"><link rel="prefetch" href="./assets/js/149.4370238b.js"><link rel="prefetch" href="./assets/js/15.69ac7457.js"><link rel="prefetch" href="./assets/js/150.a668dd71.js"><link rel="prefetch" href="./assets/js/151.ff31ea90.js"><link rel="prefetch" href="./assets/js/152.17310db4.js"><link rel="prefetch" href="./assets/js/153.b9d2e594.js"><link rel="prefetch" href="./assets/js/154.e85b8344.js"><link rel="prefetch" href="./assets/js/155.a856734a.js"><link rel="prefetch" href="./assets/js/156.9a6381c2.js"><link rel="prefetch" href="./assets/js/157.ba1db1ff.js"><link rel="prefetch" href="./assets/js/158.0500b07a.js"><link rel="prefetch" href="./assets/js/159.d3872f5d.js"><link rel="prefetch" href="./assets/js/16.125cfd2e.js"><link rel="prefetch" href="./assets/js/160.959365dd.js"><link rel="prefetch" href="./assets/js/161.32019705.js"><link rel="prefetch" href="./assets/js/162.82310de9.js"><link rel="prefetch" href="./assets/js/163.b5db4751.js"><link rel="prefetch" href="./assets/js/164.3004536f.js"><link rel="prefetch" href="./assets/js/166.cc3c7606.js"><link rel="prefetch" href="./assets/js/167.0b4cd932.js"><link rel="prefetch" href="./assets/js/168.bf54ea12.js"><link rel="prefetch" href="./assets/js/169.7d653491.js"><link rel="prefetch" href="./assets/js/17.6cd16c59.js"><link rel="prefetch" href="./assets/js/170.40df813d.js"><link rel="prefetch" href="./assets/js/171.7290cf54.js"><link rel="prefetch" href="./assets/js/172.bb2a3d1f.js"><link rel="prefetch" href="./assets/js/173.10a86c90.js"><link rel="prefetch" href="./assets/js/174.3f1df417.js"><link rel="prefetch" href="./assets/js/175.c32e8603.js"><link rel="prefetch" href="./assets/js/176.905f1f93.js"><link rel="prefetch" href="./assets/js/177.8aca775b.js"><link rel="prefetch" href="./assets/js/178.7925ba07.js"><link rel="prefetch" href="./assets/js/179.b3a0a138.js"><link rel="prefetch" href="./assets/js/180.ff894ef8.js"><link rel="prefetch" href="./assets/js/181.5f27bec3.js"><link rel="prefetch" href="./assets/js/182.7c543b3c.js"><link rel="prefetch" href="./assets/js/183.f084d59e.js"><link rel="prefetch" href="./assets/js/184.22b90c39.js"><link rel="prefetch" href="./assets/js/185.10309a08.js"><link rel="prefetch" href="./assets/js/186.9f10930b.js"><link rel="prefetch" href="./assets/js/187.2d8f5957.js"><link rel="prefetch" href="./assets/js/19.03d5229d.js"><link rel="prefetch" href="./assets/js/2.06f9bd23.js"><link rel="prefetch" href="./assets/js/20.e555e1ff.js"><link rel="prefetch" href="./assets/js/21.99d60b6a.js"><link rel="prefetch" href="./assets/js/22.1aa2a47b.js"><link rel="prefetch" href="./assets/js/23.f6153064.js"><link rel="prefetch" href="./assets/js/24.4b98ffeb.js"><link rel="prefetch" href="./assets/js/25.6d12f6cb.js"><link rel="prefetch" href="./assets/js/26.3308da65.js"><link rel="prefetch" href="./assets/js/27.6797a63a.js"><link rel="prefetch" href="./assets/js/28.504b062d.js"><link rel="prefetch" href="./assets/js/29.ee5c94b4.js"><link rel="prefetch" href="./assets/js/30.c43fdec2.js"><link rel="prefetch" href="./assets/js/31.bf5474c5.js"><link rel="prefetch" href="./assets/js/32.ed9d05d7.js"><link rel="prefetch" href="./assets/js/33.8ae224f5.js"><link rel="prefetch" href="./assets/js/34.e73a95e4.js"><link rel="prefetch" href="./assets/js/35.739260ef.js"><link rel="prefetch" href="./assets/js/36.1900ce65.js"><link rel="prefetch" href="./assets/js/37.2be9b1c2.js"><link rel="prefetch" href="./assets/js/38.0aa77753.js"><link rel="prefetch" href="./assets/js/39.e4101a08.js"><link rel="prefetch" href="./assets/js/4.ea7c395b.js"><link rel="prefetch" href="./assets/js/40.d0d9a2ec.js"><link rel="prefetch" href="./assets/js/41.4113ab01.js"><link rel="prefetch" href="./assets/js/42.639f9866.js"><link rel="prefetch" href="./assets/js/43.3de10933.js"><link rel="prefetch" href="./assets/js/44.d183fc8f.js"><link rel="prefetch" href="./assets/js/45.ee35c04d.js"><link rel="prefetch" href="./assets/js/46.70cda30e.js"><link rel="prefetch" href="./assets/js/47.8301ac98.js"><link rel="prefetch" href="./assets/js/48.d37042da.js"><link rel="prefetch" href="./assets/js/49.1e918ef5.js"><link rel="prefetch" href="./assets/js/5.6a457f2e.js"><link rel="prefetch" href="./assets/js/50.7da57e11.js"><link rel="prefetch" href="./assets/js/51.72fe4c6e.js"><link rel="prefetch" href="./assets/js/52.f9c4da63.js"><link rel="prefetch" href="./assets/js/53.94d80fc1.js"><link rel="prefetch" href="./assets/js/54.f1f10121.js"><link rel="prefetch" href="./assets/js/55.d8e658dc.js"><link rel="prefetch" href="./assets/js/56.374c0bdb.js"><link rel="prefetch" href="./assets/js/57.3baa0d04.js"><link rel="prefetch" href="./assets/js/58.ba3dd03e.js"><link rel="prefetch" href="./assets/js/59.4699de91.js"><link rel="prefetch" href="./assets/js/6.8297711b.js"><link rel="prefetch" href="./assets/js/60.97ba7959.js"><link rel="prefetch" href="./assets/js/61.14ea6523.js"><link rel="prefetch" href="./assets/js/62.7b3d9d3a.js"><link rel="prefetch" href="./assets/js/63.e3f3e081.js"><link rel="prefetch" href="./assets/js/64.4f6adea9.js"><link rel="prefetch" href="./assets/js/65.fb4ac0a3.js"><link rel="prefetch" href="./assets/js/66.470b7da8.js"><link rel="prefetch" href="./assets/js/67.9aa07704.js"><link rel="prefetch" href="./assets/js/68.36c5f586.js"><link rel="prefetch" href="./assets/js/69.34792d76.js"><link rel="prefetch" href="./assets/js/7.ef0c2a74.js"><link rel="prefetch" href="./assets/js/70.101f31a3.js"><link rel="prefetch" href="./assets/js/71.823cf322.js"><link rel="prefetch" href="./assets/js/72.379e6155.js"><link rel="prefetch" href="./assets/js/73.9db219a2.js"><link rel="prefetch" href="./assets/js/74.d7f73b9b.js"><link rel="prefetch" href="./assets/js/75.c6fb2035.js"><link rel="prefetch" href="./assets/js/76.69eead6d.js"><link rel="prefetch" href="./assets/js/77.d83218f7.js"><link rel="prefetch" href="./assets/js/78.71adabf4.js"><link rel="prefetch" href="./assets/js/79.dbe64527.js"><link rel="prefetch" href="./assets/js/8.40551c40.js"><link rel="prefetch" href="./assets/js/80.07b0edb9.js"><link rel="prefetch" href="./assets/js/81.902cdcfe.js"><link rel="prefetch" href="./assets/js/82.f93a5c21.js"><link rel="prefetch" href="./assets/js/83.af892607.js"><link rel="prefetch" href="./assets/js/84.6d025207.js"><link rel="prefetch" href="./assets/js/85.59ae60a2.js"><link rel="prefetch" href="./assets/js/86.a0b139b5.js"><link rel="prefetch" href="./assets/js/87.143c88db.js"><link rel="prefetch" href="./assets/js/88.2b2a4a5e.js"><link rel="prefetch" href="./assets/js/89.62c83cc9.js"><link rel="prefetch" href="./assets/js/9.cb758086.js"><link rel="prefetch" href="./assets/js/90.4433c31f.js"><link rel="prefetch" href="./assets/js/91.bf718a3d.js"><link rel="prefetch" href="./assets/js/92.403a5b3f.js"><link rel="prefetch" href="./assets/js/93.0d8044e8.js"><link rel="prefetch" href="./assets/js/94.7fecac4c.js"><link rel="prefetch" href="./assets/js/95.5548d297.js"><link rel="prefetch" href="./assets/js/96.92cb9982.js"><link rel="prefetch" href="./assets/js/97.5dbce278.js"><link rel="prefetch" href="./assets/js/98.a504844e.js"><link rel="prefetch" href="./assets/js/99.0033c6db.js">
    <link rel="stylesheet" href="./assets/css/0.styles.e339a6d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><img src="./logo.png" alt="xukeler的博客" class="logo"> <span class="site-name can-hide">xukeler的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web开发" class="dropdown-title"><span class="title">web开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/web/vue/Vue原理解析-虚拟Dom.html" class="nav-link">
  Vue2.0
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/vue3/pinia.html" class="nav-link">
  Vue3.0
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/react/react.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/Es6/es6.html" class="nav-link">
  Es6
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/optimize/vue数据优化-Object.freeze.html" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/plugin/anime-js动画库.html" class="nav-link">
  常用插件
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/javascript/iframe跨域通信.html" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/typescript/typeScript.html" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/css/Sass.html" class="nav-link">
  Css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="客户端开发" class="dropdown-title"><span class="title">客户端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/client/electron/electron-vue.html" class="nav-link">
  Electron
</a></li><li class="dropdown-item"><!----> <a href="/./blog/client/harmony/harmony.html" class="nav-link">
  harmonyOS鸿蒙
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序开发" class="dropdown-title"><span class="title">小程序开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/small/wechat/微信小程序.html" class="nav-link">
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/./blog/small/uni-app/强制更新.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/./blog/small/cloudpay/cloudpay.html" class="nav-link">
  云闪付小程序
</a></li></ul></div></div><div class="nav-item"><a href="/./blog/web/problem/移动端弹窗滚动穿透.html" class="nav-link">
  常用功能及踩坑
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端开发" class="dropdown-title"><span class="title">后端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/server/node/koa2.html" class="nav-link">
  node.js
</a></li><li class="dropdown-item"><!----> <a href="/./blog/server/database/MongoDB.html" class="nav-link">
  数据库
</a></li></ul></div></div><div class="nav-item"><a href="/./blog/other/去除windows桌面快捷方式icon.html" class="nav-link">
  其它
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/./" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web开发" class="dropdown-title"><span class="title">web开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/web/vue/Vue原理解析-虚拟Dom.html" class="nav-link">
  Vue2.0
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/vue3/pinia.html" class="nav-link">
  Vue3.0
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/react/react.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/Es6/es6.html" class="nav-link">
  Es6
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/optimize/vue数据优化-Object.freeze.html" class="nav-link">
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/plugin/anime-js动画库.html" class="nav-link">
  常用插件
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/javascript/iframe跨域通信.html" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/typescript/typeScript.html" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/./blog/web/css/Sass.html" class="nav-link">
  Css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="客户端开发" class="dropdown-title"><span class="title">客户端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/client/electron/electron-vue.html" class="nav-link">
  Electron
</a></li><li class="dropdown-item"><!----> <a href="/./blog/client/harmony/harmony.html" class="nav-link">
  harmonyOS鸿蒙
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="小程序开发" class="dropdown-title"><span class="title">小程序开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/small/wechat/微信小程序.html" class="nav-link">
  微信小程序
</a></li><li class="dropdown-item"><!----> <a href="/./blog/small/uni-app/强制更新.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/./blog/small/cloudpay/cloudpay.html" class="nav-link">
  云闪付小程序
</a></li></ul></div></div><div class="nav-item"><a href="/./blog/web/problem/移动端弹窗滚动穿透.html" class="nav-link">
  常用功能及踩坑
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端开发" class="dropdown-title"><span class="title">后端开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/./blog/server/node/koa2.html" class="nav-link">
  node.js
</a></li><li class="dropdown-item"><!----> <a href="/./blog/server/database/MongoDB.html" class="nav-link">
  数据库
</a></li></ul></div></div><div class="nav-item"><a href="/./blog/other/去除windows桌面快捷方式icon.html" class="nav-link">
  其它
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue原理解析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./blog/web/vue/vue原理解析-源码文件分析.html" class="sidebar-link">vue原理解析-源码文件分析</a></li><li><a href="/./blog/web/vue/Vue原理解析-虚拟Dom.html" class="sidebar-link">Vue原理解析-虚拟Dom</a></li><li><a href="/./blog/web/vue/Vue原理解析-$delete.html" class="sidebar-link">Vue原理解析-$delete</a></li><li><a href="/./blog/web/vue/Vue原理解析-$set.html" class="sidebar-link">Vue原理解析-$set</a></li><li><a href="/./blog/web/vue/Vue原理解析-$watch.html" class="sidebar-link">Vue原理解析-$watch</a></li><li><a href="/./blog/web/vue/vue原理解析-数组监听.html" class="sidebar-link">vue原理解析-数组监听</a></li><li><a href="/./blog/web/vue/vue原理解析-parsePath方法.html" class="sidebar-link">vue原理解析-parsePath方法</a></li><li><a href="/./blog/web/vue/vue原理解析-对象监听.html" class="sidebar-link">vue原理解析-对象监听</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue2</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./blog/web/vue/vue开发插件发布到npm.html" class="sidebar-link">vue开发插件发布到npm</a></li><li><a href="/./blog/web/vue/封装组件渲染到body.html" class="sidebar-link">封装组件渲染到body</a></li><li><a href="/./blog/web/vue/定义全局组件.html" class="sidebar-link">定义全局组件</a></li><li><a href="/./blog/web/vue/安卓Tv嵌入web开发.html" class="sidebar-link">安卓Tv嵌入web开发</a></li><li><a href="/./blog/web/vue/vue主题切换.html" class="sidebar-link">vue主题切换</a></li><li><a href="/./blog/web/vue/跨域代理.html" class="sidebar-link">跨域代理</a></li><li><a href="/./blog/web/vue/导航菜单切换样式设置.html" class="sidebar-link">导航菜单切换样式设置</a></li><li><a href="/./blog/web/vue/vue移动端px自动转rem适配.html" class="sidebar-link">vue移动端px自动转rem适配</a></li><li><a href="/./blog/web/vue/vue移动端px自动转换vw适配.html" class="sidebar-link">vue移动端px自动转换vw适配</a></li><li><a href="/./blog/web/vue/使用自定义指令实现懒加载.html" class="sidebar-link">使用自定义指令实现懒加载</a></li><li><a href="/./blog/web/vue/vue打包之后放到服务器刷新404问题.html" class="sidebar-link">vue打包之后放到服务器刷新404问题</a></li><li><a href="/./blog/web/vue/EventBus.html" class="sidebar-link">EventBus</a></li><li><a href="/./blog/web/vue/vue-config.js.html" class="sidebar-link">vue-config.js</a></li><li><a href="/./blog/web/vue/vuex.html" class="sidebar-link">vuex</a></li><li><a href="/./blog/web/vue/vue-router.html" class="sidebar-link">vue-router</a></li><li><a href="/./blog/web/vue/vue-axios使用.html" class="sidebar-link">vue-axios使用</a></li><li><a href="/./blog/web/vue/vue-cli.html" class="sidebar-link">vue-cli</a></li><li><a href="/./blog/web/vue/Object.defineProperty.html" class="sidebar-link">Object.defineProperty</a></li><li><a href="/./blog/web/vue/vue2.0.html" aria-current="page" class="active sidebar-link">vue2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#vue2-x" class="sidebar-link">vue2.x</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#v-vif和v-vshow" class="sidebar-link">v-vif和v-vshow</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#事件绑定" class="sidebar-link">事件绑定</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#动态设置class和style" class="sidebar-link">动态设置class和style</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#props" class="sidebar-link">props</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#v-for" class="sidebar-link">v-for</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#watch" class="sidebar-link">watch</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#计算属性" class="sidebar-link">计算属性</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#render" class="sidebar-link">render</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#slot插槽" class="sidebar-link">slot插槽</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#普通插槽" class="sidebar-link">普通插槽</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#具名插槽" class="sidebar-link">具名插槽</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#作用域插槽" class="sidebar-link">作用域插槽</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#组件通信" class="sidebar-link">组件通信</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#父到子通信" class="sidebar-link">父到子通信</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#子到父通信" class="sidebar-link">子到父通信</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#父到子通信ref" class="sidebar-link">父到子通信ref</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#子到父通信-parent" class="sidebar-link">子到父通信$parent</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#子到父通信-listeners" class="sidebar-link">子到父通信$listeners</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#父子通信provide和injec，" class="sidebar-link">父子通信provide和injec，</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#mixin混入" class="sidebar-link">mixin混入</a></li><li class="sidebar-sub-header"><a href="/./blog/web/vue/vue2.0.html#自定义指令" class="sidebar-link">自定义指令</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="vue2-x"><a href="#vue2-x" class="header-anchor">#</a> vue2.x</h2> <ul><li><code>vue</code>一个<code>mvvm</code>模式动态构建用户界面的框架。编码简洁，体积小，运行效率高，适合 移动/pc 端开发，它本身只关注 <code>UI</code>，可以轻松引入 <code>vue</code> 插件或其它第三方库开发项目。</li> <li>主要用到的插件有<code>vue-cli</code>,<code>vue-router</code>,<code>vuex</code>,<code>axios</code>以及各种<code>ui</code>框架<code>iview</code>,<code>element-ui</code>,和各种插件。</li> <li><code>MVVM model-view-viewModel</code>,<code>model</code>数据模型，<code>view</code>视图，<code>viewModal</code>视图模型<code>vue</code>的实例。</li> <li>视图模型是<code>mvvm</code> 模式的核心，它是连接<code>view</code> 和 <code>model</code> 的桥梁。它有两个方向,一个是将模型转化成视图，即将后端传递的数据转化成所看到的页面。实现的方式是：数据绑定。另外一个是将视图转化成模型，即将所看到的页面转化成后端的数据。实现的方式是：DOM 事件监听。这两个方向都实现的，我们称之为数据的双向绑定。</li></ul> <h2 id="v-vif和v-vshow"><a href="#v-vif和v-vshow" class="header-anchor">#</a> v-vif和v-vshow</h2> <ul><li><code>v-if</code>是满足条件则在页面中渲染，否则不会渲染，在<code>DOM</code>树种查找不到对应的节点。搭配<code>v-else</code>，<code>v-else-if</code>使用。</li> <li><code>v-show</code>是满足条件显示隐藏，在<code>DOM</code>树种可以找到对应的节点。</li></ul> <h2 id="事件绑定"><a href="#事件绑定" class="header-anchor">#</a> 事件绑定</h2> <ul><li>事件绑定在标签中，通过<code>v-on</code>来绑定事件，简写为<code>@</code>。可以传递<code>v-for</code>的参数。</li> <li>事件修饰符<code>.stop</code>阻止冒泡，<code>.prevent</code>阻止默认行为，......</li></ul> <div class="custom-block warning"><p class="custom-block-title">提示</p> <p>注意获取event对象的时候可以传递$event获取</p></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getData()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="动态设置class和style"><a href="#动态设置class和style" class="header-anchor">#</a> 动态设置class和style</h2> <ul><li>动态设置<code>class</code>，<code>style</code>通过<code>data</code>里面的状态判断设置，不同的是<code>style</code>设置是通过对象的方式，要用大括号包裹。</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status?<span class="token punctuation">'</span>action<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span>  <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{color:status?<span class="token punctuation">'</span>red<span class="token punctuation">'</span>:<span class="token punctuation">'</span>green<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 或 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[status?<span class="token punctuation">'</span>action<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span>,state?<span class="token punctuation">'</span>current<span class="token punctuation">'</span>:<span class="token punctuation">'</span><span class="token punctuation">'</span>]<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{color:status?<span class="token punctuation">'</span>red<span class="token punctuation">'</span>:<span class="token punctuation">'</span>green<span class="token punctuation">'</span>}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="props"><a href="#props" class="header-anchor">#</a> props</h2> <ul><li>父组件向子组件传递参数通过<code>props</code>,在子组件中接收，可以以数组形式，但是无法判断是否传递，对象形式可以设置数据类型以及默认值。</li> <li><code>prosp</code>可以是一个数组，也可以是一个对象，如果是数组,数组元素就是<code>props</code>参数名称，如果是对象,对象的键就是参数名称，可以设置<code>props</code>的<code>type</code>,<code>default</code>,<code>required</code>。
<ul><li><code>type</code>代表传递的<code>props</code>类型，例如<code>String,Number,Boolean,Objeact</code>等。</li> <li><code>default</code>代表默认值。</li> <li><code>required</code>表示是否必须传。</li></ul></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>需要注意的是传递的props是数组或者对象，default必须是个函数返回一个数组或对象。
一般不建议在子组件通过props修改父组件的值，但是实际上是可以操作的，但必须是对象类型</p></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 父组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
// 子组件
props:['data],
// 或
props:{
    data{
        type:Number,//props  数据类型
        default:0,  // 默认值
        required:true  //是否必须传递
    }
}

// 或 
props:{
    data{
        type:Object,//props  数据类型
        default:()=&gt;{
          return {name:1}
        },  // 默认值
        required:true  //是否必须传递
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="v-for"><a href="#v-for" class="header-anchor">#</a> v-for</h2> <ul><li><code>v-for</code>是列表渲染，注意不能和<code>v-if</code>一起使用，要绑定唯一的<code>key</code>,目的是每次数据变化的时候通过<code>key</code>来删除，修改变化的<code>dom</code>。</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>不能使用index作为唯一的key,因为每次数据更新，遍历的index绑定的虚拟DOM是变化的，在虚拟DOM比对的时候造成旧的不能复用，创建新的DOM，造成资源的浪费，在渲染的列表里有输入类型的节点，就会造成显示错误。</p></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item,indx) in data<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data.id+index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="watch"><a href="#watch" class="header-anchor">#</a> watch</h2> <ul><li><code>watch</code>是监听<code>data</code>里的属性，一旦<code>data</code>发生变化就会触发<code>watch</code>,接收两个参数，一个新值，一个旧值。</li> <li><code>watch</code>也可以深度监听对象或数组的变化。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>watch<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">new</span><span class="token punctuation">,</span>old</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">,</span>old<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="计算属性"><a href="#计算属性" class="header-anchor">#</a> 计算属性</h2> <ul><li>计算属性<code>computed</code>监听<code>data</code>的变化，必须返回一个状态，当<code>data</code>一旦发生变化，就会触发计算属性。</li> <li>只是<code>get</code>获取监听的结果，写成函数的形式，必须有一个返回。</li> <li>如果需要<code>set</code>则需要写成对象形式，对象包含两个函数，一个<code>get</code>、一个<code>set</code>，<code>get</code>功能和函数形式一样，<code>set</code>不需要有返回值，且接收一个值。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>computed<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">flag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> text<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">?</span><span class="token string">'success'</span><span class="token operator">:</span><span class="token string">'error'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> text<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 或</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    bulletData<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bulletList<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:bulletList&quot;</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <ul><li><code>beforeCreate</code> 组件创建之前调用。</li> <li><code>created</code> 组件创建时调用，但是<code>DOM</code>还没有渲染完成。</li> <li><code>beforeMount</code>组件渲染之前调用。</li> <li><code>mounted</code> 组件渲染完成时调用。</li> <li><code>beforeUpdate</code>组件更新之前调用。</li> <li><code>updated</code>组件更新调用。</li> <li><code>beforeDestroy</code> 组件销毁之前调用。</li> <li><code>destroyed</code>组件销毁完成后调用。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
    data<span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="render"><a href="#render" class="header-anchor">#</a> render</h2> <ul><li>通常构建一个<code>vue</code>的项目，在开发环境搭建完成，开始写组件，大多数情况下构建每个组件的模板使用<code>template</code>，但是<code>vue</code>也推出了具有<code>JavaScript</code>完全编程能力的渲染函数<code>render</code>函数。</li> <li>使用<code>render</code>函数，就不用在页面中写入<code>template</code>，在<code>js</code>文件中写入<code>render</code>函数。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      text<span class="token operator">:</span> <span class="token string">&quot;2222&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">clickFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      style<span class="token operator">:</span> <span class="token punctuation">{</span> backgroundColor<span class="token operator">:</span> <span class="token string">&quot;#ccc&quot;</span><span class="token punctuation">,</span> width<span class="token operator">:</span> <span class="token string">&quot;200px&quot;</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token string">&quot;200px&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//设置标签的样式</span>
      attrs<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&quot;der&quot;</span><span class="token punctuation">,</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">&quot;ser&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//设置普通HTML的属性</span>
      props<span class="token operator">:</span> <span class="token punctuation">{</span>myprop<span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//设置组件的属性</span>
      on<span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//绑定事件</span>
        click<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickFn
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      ref<span class="token operator">:</span><span class="token string">&quot;tools&quot;</span><span class="token comment">//设置ref</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="slot插槽"><a href="#slot插槽" class="header-anchor">#</a> slot插槽</h2> <ul><li>插槽<code>slot</code>简单的理解就是一段<code>html</code>代码模板，只是需要的在一个特定的情况下使用。插槽分为普通插槽，具名插槽，作用域插槽。</li></ul> <h2 id="普通插槽"><a href="#普通插槽" class="header-anchor">#</a> 普通插槽</h2> <p>普通插槽，新建一个局部组件<code>tip</code>，在<code>tip</code>中新建一个<code>slot</code>标签，里面放上一段<code>html</code>代码模板，然后在父级组件引用<code>tip</code>，局部组件<code>tip</code>中如果填写的有内容，则就渲染填写的内容，否则就渲染局部组件<code>slot</code>里面的内容。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>局部组件
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span>今天天气很棒<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


父级组件
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>tip<span class="token operator">&gt;</span><span class="token number">666</span><span class="token operator">&lt;</span><span class="token operator">/</span>tip<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> tip <span class="token keyword">from</span> <span class="token string">&quot;../components/Tip&quot;</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div> <h2 id="具名插槽"><a href="#具名插槽" class="header-anchor">#</a> 具名插槽</h2> <p>有时候需要使用多个插槽，就需要使用具名插槽。在局部组件<code>tip</code>中<code>slot</code>加一个<code>name</code>属性，然后在父级组件使用时，通过<code>v-slot=name</code>，来使用指定的插槽。</p> <blockquote><p>注意<code>v-slot</code>只能使用<code>template</code>中</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>局部组件
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;der&quot;</span> <span class="token operator">&gt;</span>今天天气很棒<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

父级组件

<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>tip<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>der<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>真棒！<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tip<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

缩写
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>tip<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template #der<span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>真棒！<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tip<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div> <h2 id="作用域插槽"><a href="#作用域插槽" class="header-anchor">#</a> 作用域插槽</h2> <p>作用域插槽就是在父组件中让插槽内容能够访问子组件中才有的数据。子组件的插槽通过<code>v-bind</code>绑定子组件的<code>data</code>属性，在父级组件中自定义一个属性名，通过这个属性名可以访问到子组件传递的属性值，类似于父子通信的<code>props</code>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>局部组件
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;der&quot;</span> <span class="token operator">:</span>na<span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span>今天天气很棒<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                name<span class="token operator">:</span><span class="token string">'小明'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token comment">// 父级组件</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>tip<span class="token operator">&gt;</span><span class="token operator">&lt;</span>template #der<span class="token operator">=</span><span class="token string">&quot;tool&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>tool<span class="token punctuation">.</span>na<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>tip<span class="token operator">&gt;</span><span class="token comment">//tool是自定义的，der为slot的name</span>
        或
       <span class="token operator">&lt;</span>tip<span class="token operator">&gt;</span><span class="token operator">&lt;</span>template v<span class="token operator">-</span>bind<span class="token operator">:</span>der<span class="token operator">=</span><span class="token string">&quot;tool&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>tool<span class="token punctuation">.</span>na<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>tip<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div> <div><div>小明</div> <div><div>Ming1222</div> <input type="text"></div></div> <h2 id="组件通信"><a href="#组件通信" class="header-anchor">#</a> 组件通信</h2> <ul><li>vue组件通信有多种方式，父子通信，子父通信，子子通信等。</li></ul> <h2 id="父到子通信"><a href="#父到子通信" class="header-anchor">#</a> 父到子通信</h2> <ul><li>父到子通信<code>props</code>，这也是用的最常用的。在父组件中绑定<code>props</code>，在子组件中使用。</li> <li>子组件的<code>props</code>可以是一个数组，也可以是一个对象，如果是一个对象可以设置默认值和数据类型。这样的有一个缺点就是子组件的后代组件不会继承<code>props</code>，需要在子组件再绑定一个<code>props</code>传递给子组件的后代。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>父组件
<span class="token operator">&lt;</span>Home <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">&quot;title&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Home<span class="token operator">&gt;</span>

子组件
props<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
或
props<span class="token operator">:</span><span class="token punctuation">{</span>
  title<span class="token operator">:</span><span class="token punctuation">{</span>
      type<span class="token operator">:</span>String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'111'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>，
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="子到父通信"><a href="#子到父通信" class="header-anchor">#</a> 子到父通信</h2> <ul><li>子到父通信<code>$emit</code>，通过<code>$emit</code>操控父组件里面的方法，也可以传参</li> <li>如果传递多个参数可以使用对象的形式</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>父组件
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Home</span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Home</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    exprot <span class="token keyword">default</span><span class="token operator">:</span><span class="token punctuation">{</span>
          methods<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>      
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
子组件
mounted(){
  this.$emit('change',data)
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="父到子通信ref"><a href="#父到子通信ref" class="header-anchor">#</a> 父到子通信ref</h2> <ul><li>父到子通信<code>ref</code>，通过<code>ref</code>可以拿到子组件的所有属性和方法。</li> <li>操作<code>ref</code>会和<code>v-if</code>有冲突，可以使用<code>v-show</code>替代，必须在<code>dom</code>更新之后操作，否则会报错，也就是在<code>this.$nextTick</code>中操作。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>父组件
<span class="token operator">&lt;</span>Home ref<span class="token operator">=</span><span class="token string">&quot;show&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Home<span class="token operator">&gt;</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>show<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>show<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
子组件
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'today'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;hehhe&quot;</span>  
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="子到父通信-parent"><a href="#子到父通信-parent" class="header-anchor">#</a> 子到父通信$parent</h2> <ul><li>子到父通信<code>$parent</code>，通过<code>$parent</code>可以拿到直系父组件的所有的方法和属性。</li> <li>如果子组件被多个父组件引用，使用<code>$parent</code>的时候需要自己判断</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>父组件
<span class="token operator">&lt;</span>Home ref<span class="token operator">=</span><span class="token string">&quot;show&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Home<span class="token operator">&gt;</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'today'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;hehhe&quot;</span>  
<span class="token punctuation">}</span>
子组件
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="子到父通信-listeners"><a href="#子到父通信-listeners" class="header-anchor">#</a> 子到父通信$listeners</h2> <ul><li>子到父通信<code>$listeners</code>，这个的使用方法和<code>$emit</code>差不多，也是需要在父组件中先绑定事件，然后在子组件通过<code>this.$listeners</code>得到所有绑定的事件名，直接调用就好</li> <li>这种调用方式也是可以传参的</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>父组件

<span class="token operator">&lt;</span>Home @change<span class="token operator">=</span><span class="token string">&quot;change&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Home<span class="token operator">&gt;</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">change</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
子组件
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$listeners<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="父子通信provide和injec，"><a href="#父子通信provide和injec，" class="header-anchor">#</a> 父子通信provide和injec，</h2> <ul><li><code>provide</code> 和<code>inject</code>主要为高阶插件组件库提供用例。并不推荐直接用于应用程序代码中; 并且这对选项需要一起使用。只要在第一级别的组件注册<code>provide</code>，所有的后代都会继承，都能够访问。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>父组件
        data<span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token keyword">return</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">&quot;today&quot;</span> 
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token keyword">return</span> <span class="token punctuation">{</span>
               value<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>name
           <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
子组件
  inject<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
孙子组件
  inject<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>还有一些别的通信方式但是使用的不太多<code>sync</code>,<code>$children</code></p> <h2 id="mixin混入"><a href="#mixin混入" class="header-anchor">#</a> mixin混入</h2> <ul><li><code>mixin</code>是把多个组件的公共的方法状态单独提取出来进行复用，一个混入对象可以包含任意组件选项。当组件使用混入对象时，所有混入对象的选项将被“混合”进入该组件本身的选项。</li> <li><code>mixin</code>混入对象也包含完整的生命周期<code>created</code>,<code>mounted</code>,<code>data</code>,<code>component</code>,<code>watch</code>,<code>computed</code>等选项。</li> <li>组件引入<code>mixin</code>所有的选项都会被合并，同名的组件优先，尽量不要同名，能通过<code>this</code>访问<code>mixin</code>方法<code>data</code>,但是<code>mixin</code>不能访问组件里的内容。</li> <li>定义一个<code>mixin.js</code>暴露出来一个<code>mixin</code>对象，在组件引入。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//mixin.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> MyMixin <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">{</span>
            name<span class="token operator">:</span><span class="token string">&quot;Ming&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//引入</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MyMixin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./mixin'</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">{</span>
                data<span class="token operator">:</span><span class="token punctuation">{</span>
                    name1<span class="token operator">:</span><span class="token string">&quot;Ming1222&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        mixins<span class="token operator">:</span><span class="token punctuation">[</span>MyMixin<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="自定义指令"><a href="#自定义指令" class="header-anchor">#</a> 自定义指令</h2> <ul><li>除了我们常见的<code>v-for</code>，<code>v-if</code>,等指令，<code>Vue</code> 也允许注册自定义指令。</li> <li>使用<code>directive</code>定义全局指令，或局部指令。</li> <li>自定义指令有5个钩子函数，<code>bind</code>只调用一次，指令第一次绑定到元素时调用，可以进行初始化配置，</li> <li><code>inserted</code>被绑定元素插入父节点时调用,但是不一定保证插入文档中。</li> <li><code>update</code>组件的虚拟<code>DOM</code>更新时调用，但是可能发生在其子 <code>VNode</code> 更新之前。指令的值可能发生了改变，也可能没有。</li> <li><code>componentUpdated</code>指令所在组件的 虚拟<code>DOM</code> 及其子虚拟<code>DOM</code>全部更新后调用。</li> <li><code>unbind</code>只调用一次，指令与元素解绑时调用。</li> <li>钩子函数接收4个参数常用的前两个参数 即 <code>el</code>(指令所绑定的元素，可以用来直接操作 <code>DOM</code>)、<code>binding</code>(一个对象，包含<code>value</code>，<code>oldValue</code>,<code>name</code>指令名称)、除了<code>el</code>其它参数都是只读不能修改。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>focus<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>

    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">{</span>
                data<span class="token operator">:</span><span class="token punctuation">{</span>
                    name1<span class="token operator">:</span><span class="token string">&quot;&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        directives<span class="token operator">:</span><span class="token punctuation">{</span>
            focus<span class="token operator">:</span><span class="token punctuation">{</span>
              <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

              <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">//自动获取焦点</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span>binding<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;scss&quot;</span> <span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/./blog/web/vue/Object.defineProperty.html" class="prev">
        Object.defineProperty
      </a></span> <!----></p></div> </main></div><div class="global-ui"><div></div></div></div>
    <script src="./assets/js/app.90975868.js" defer></script><script src="./assets/js/3.0979b334.js" defer></script><script src="./assets/js/165.c4a3bfd6.js" defer></script><script src="./assets/js/18.1f12653d.js" defer></script>
  </body>
</html>
